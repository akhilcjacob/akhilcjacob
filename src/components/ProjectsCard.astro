---
import { Icon } from "astro-icon/components";
import Card from "./Card/index.astro";

const allProjects = [
  {
    title: "inboxhiive",
    description: "SaaS platform transforming podcast audio into rich newsletters",
    tech: "Next.js, Firebase",
    icon: "ri:mail-line",
    link: "https://inboxhiiv.com/",
    // image: "https://via.placeholder.com/600x400", // example image
  },

  {
    title: "HypeBridge",
    description: "AI-powered agentic influencer search and outreach",
    tech: "Next.js, Gemini",
    icon: "ri:user-search-line",
    link: "https://thehypebridge.com",
  },
  {
    title: "Nookly",
    description: "Uber-style home services app for convenient scheduling",
    tech: "Flutter, Firebase",
    icon: "ri:home-line",
    link: "https://nookly.co",
  },
  {
    title: "Skywise",
    description: "Conversational AI weather app with dynamic forecasts",
    tech: "Flutter, GPT API",
    icon: "ri:sun-line",
    link: "https://modrnmagic.app",
  },
  {
    title: "Astro Defender",
    description: "Mobile game exploring game development and advanced mobile frameworks",
    tech: "Flutter",
    icon: "ri:gamepad-line",
    link: "https://modrnmagic.app",
  },
  {
    title: "Flowomoro",
    description: "Minimalist Pomodoro productivity app",
    tech: "Flutter",
    icon: "ri:timer-line",
    link: "https://modrnmagic.app/apps/flowmoro/home"
  },
  {
    title: "Home Automation Platform",
    description: "Distributed platform for IoT device automation with web dashboard",
    tech: "Golang, Vue.js",
    icon: "ri:home-gear-line",
    link: "https://github.com/akhilcjacob"
  },
  {
    title: "Automated Quadcopter",
    description: "Object tracking and automated flight patterns for drones",
    tech: "Python, OpenCV, Raspberry Pi",
    icon: "ri:flight-takeoff-line",
    link: "https://github.com/akhilcjacob"
  },
  {
    title: "Antimoz",
    description: "Web analytics tool for user event collection and analysis",
    tech: "Divolte, Kafka, Docker",
    icon: "ri:bar-chart-line",
    link: "https://github.com/akhilcjacob"
  },
  {
    title: "FIRST Robotics",
    description: "Robot control software with computer vision and PID control",
    tech: "Python, OpenCV",
    icon: "ri:robot-line",
    link: "https://github.com/akhilcjacob"
  }
];

const displayProjects = allProjects.slice(0, 3);
---

<Card colSpan="col-span-2 sm:col-span-2" rowSpan="row-span-2">
  <div class="flex flex-col h-full">
    <div class="flex items-center justify-between mb-4">
      <div class="flex items-center gap-2">
        <Icon name="ri:code-box-line" class="h-6 w-6 text-white" />
        <h2 class="text-xl font-semibold text-white">Projects</h2>
      </div>
      <div class="flex items-center gap-2">
        <a
          href="/projects"
          id="projectExploreBtn"
          class="rounded-lg bg-gradient-to-r from-blue-600/40 to-purple-600/40 px-4 py-1.5 text-sm font-medium text-white shadow-md hover:from-blue-600/50 hover:to-purple-600/50 hover:shadow-lg hover:scale-105 transition-all duration-300 flex items-center gap-1"
        >
          <span>View Projects</span>
          <Icon name="ri:rocket-line" class="w-4 h-4" />
        </a>
      </div>
    </div>

    <div class="flex-1 flex flex-col">
      <div class="grid grid-cols-1 sm:grid-cols-2 gap-4 flex-1">
        {displayProjects.map((project) => (
          <a
            href={project.link}
            target="_blank"
            class="p-4 rounded-lg bg-white/5 hover:bg-white/10 transition-colors flex flex-col h-auto"
          >
            <div class="flex items-center gap-2 mb-2">
              <Icon name={project.icon} class="h-5 w-5 text-blue-400" />
              <span class="text-white font-medium">{project.title}</span>
            </div>
            <p class="text-sm text-white/60 flex-1 line-clamp-2">
              {project.description}
            </p>
            <div class="mt-2 text-xs text-white/40">{project.tech}</div>
          </a>
        ))}
        <a
          href="/projects"
          class="p-4 rounded-lg bg-white/5 hover:bg-white/10 transition-colors flex flex-col justify-center items-center h-auto group"
        >
          <div class="flex items-center gap-2 text-white/60 group-hover:text-white/80">
            <Icon name="ri:arrow-right-line" class="h-5 w-5" />
            <span class="font-medium">View All Projects</span>
          </div>
          <p class="text-sm text-white/40 mt-2 text-center">
            Explore my complete portfolio
          </p>
        </a>
      </div>
    </div>
  </div>
</Card>

<style>
  .project-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
    gap: 1rem;
  }
</style>
